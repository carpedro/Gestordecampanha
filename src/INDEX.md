# üìö √çndice de Documenta√ß√£o - Campanhas EdTech

## üö® A√á√ÉO URGENTE NECESS√ÅRIA

> **O sistema N√ÉO funcionar√° sem executar o script SQL primeiro!**
>
> ### üéØ NOVO USU√ÅRIO? COMECE AQUI:
> 
> 1. üìñ **Leia:** [`START_HERE.md`](./START_HERE.md) - Guia visual de 2 minutos
> 2. üì∫ **Veja onde clicar:** [`SUPABASE_VISUAL_GUIDE.md`](./SUPABASE_VISUAL_GUIDE.md) - Screenshots e navega√ß√£o
> 3. ‚ö° **Execute:** [`EXECUTE_NOW.sql`](./EXECUTE_NOW.sql) - Script de 30 segundos
> 4. ‚úÖ **Teste:** Crie uma campanha no app
>
> **Guias alternativos:**
> - üìã [SETUP_CHECKLIST.md](./SETUP_CHECKLIST.md) - Checklist completo
> - üîß [database_fix.sql](./database_fix.sql) - Script completo com dados iniciais
> - üìÑ [CRITICAL_FIX_SUMMARY.md](./CRITICAL_FIX_SUMMARY.md) - Resumo t√©cnico

## üöÄ In√≠cio R√°pido (3 Minutos)

**Para come√ßar a usar o sistema imediatamente:**

1. üö® **PRIMEIRO**: Leia [`START_HERE.md`](./START_HERE.md) - Guia visual completo
2. ‚ö° **EXECUTE**: [`EXECUTE_NOW.sql`](./EXECUTE_NOW.sql) no Supabase SQL Editor
3. ‚úÖ **VERIFIQUE**: Execute [`DIAGNOSTIC.sql`](./DIAGNOSTIC.sql) para confirmar
4. üéØ **TESTE**: Crie uma campanha no app
5. üéâ **PRONTO**: Sistema funcionando!

**N√£o sabe onde clicar no Supabase?** ‚Üí [`SUPABASE_VISUAL_GUIDE.md`](./SUPABASE_VISUAL_GUIDE.md)

---

## üìñ Documenta√ß√£o por Categoria

### 1Ô∏è‚É£ Setup e Corre√ß√µes (COMECE AQUI!)

| Arquivo | Descri√ß√£o | Tempo | Prioridade |
|---------|-----------|-------|------------|
| [ERROR_GUIDE.md](./ERROR_GUIDE.md) | üö® **VIU UM ERRO?** - Solu√ß√£o r√°pida para erros | 1 min | üî¥ URGENTE |
| [INSTITUTION_ERROR_FIX.md](./INSTITUTION_ERROR_FIX.md) | üè´ **Erro "Institution not found"** - Solu√ß√£o espec√≠fica | 1 min | üî¥ URGENTE |
| [START_HERE.md](./START_HERE.md) | üéØ **COMECE POR ESTE** - Guia visual simplificado | 2 min | üî¥ URGENTE |
| [EXECUTE_NOW.sql](./EXECUTE_NOW.sql) | ‚ö° **Script essencial** - Apenas 3 comandos SQL | 30 seg | üî¥ URGENTE |
| [SUPABASE_VISUAL_GUIDE.md](./SUPABASE_VISUAL_GUIDE.md) | üì∫ **Onde clicar** - Tutorial visual com navega√ß√£o | 3 min | üî¥ URGENTE |
| [SETUP_CHECKLIST.md](./SETUP_CHECKLIST.md) | ‚úÖ **Checklist completo** - Passo a passo detalhado | 2 min | üü° RECOMENDADO |
| [SQL_SCRIPTS_README.md](./SQL_SCRIPTS_README.md) | üìä **Guia de Scripts** - Compara√ß√£o de todos scripts | 3 min | üü° RECOMENDADO |
| [DIAGNOSTIC.sql](./DIAGNOSTIC.sql) | üîç **Verificar setup** - Testa se configurou certo | 10 seg | üü° RECOMENDADO |
| [quick_fix.sql](./quick_fix.sql) | ‚ö° **Alternativa ao EXECUTE_NOW** - Mesmo conte√∫do | 30 seg | üü¢ OPCIONAL |
| [database_fix.sql](./database_fix.sql) | üîß **Script completo** - Inclui dados iniciais | 2 min | üü¢ OPCIONAL |
| [FINAL_SOLUTION.md](./FINAL_SOLUTION.md) | üéØ **Resumo geral** - Tudo que foi feito | 3 min | üü¢ LEITURA |
| [CRITICAL_FIX_SUMMARY.md](./CRITICAL_FIX_SUMMARY.md) | üìä **Resumo executivo** - Contexto do problema | 3 min | üü¢ LEITURA |
| [FIX_DATABASE_NOW.md](./FIX_DATABASE_NOW.md) | üìò **Guia detalhado** - Explica√ß√£o t√©cnica | 5 min | üü¢ LEITURA |
| [SOLUTION_SUMMARY.md](./SOLUTION_SUMMARY.md) | üìÑ **Mudan√ßas no c√≥digo** - O que foi alterado | 5 min | üü¢ LEITURA |
| [BEFORE_AFTER.md](./BEFORE_AFTER.md) | üîÑ **Compara√ß√£o** - Como era antes vs depois | 4 min | üü¢ LEITURA |

### 2Ô∏è‚É£ Conectividade e Deploy

| Arquivo | Descri√ß√£o | Quando Usar |
|---------|-----------|-------------|
| [DATABASE_CONNECTIVITY.md](./DATABASE_CONNECTIVITY.md) | **Guia t√©cnico completo** de conectividade com o banco (14 se√ß√µes) | Para entender toda a arquitetura e fluxo de dados |
| [DEPLOYMENT_CHECKLIST.md](./DEPLOYMENT_CHECKLIST.md) | **Checklist passo a passo** para deploy | Antes de colocar em produ√ß√£o |
| [RESUMO_CONECTIVIDADE.md](./RESUMO_CONECTIVIDADE.md) | **Resumo executivo** do estado atual (vers√£o simplificada) | Para entender r√°pido o que foi feito |
| [FLUXO_COMPLETO.md](./FLUXO_COMPLETO.md) | **Diagramas visuais** de fluxo de dados | Para visualizar arquitetura |
| [QUICK_TEST.md](./QUICK_TEST.md) | **15 testes pr√°ticos** de conectividade | Para validar se tudo est√° funcionando |

### 3Ô∏è‚É£ Funcionalidades e Uso

| Arquivo | Descri√ß√£o | Quando Usar |
|---------|-----------|-------------|
| [README.md](./README.md) | Vis√£o geral, configura√ß√£o e uso b√°sico | Primeira leitura obrigat√≥ria |
| [FEATURES.md](./FEATURES.md) | Lista detalhada de todas as funcionalidades | Para conhecer o que o sistema pode fazer |
| [MOBILE_UX.md](./MOBILE_UX.md) | Guia de experi√™ncia mobile | Para entender funcionalidades mobile |

### 3Ô∏è‚É£ C√≥digo e Estrutura

| Arquivo | Descri√ß√£o | Quando Usar |
|---------|-----------|-------------|
| `/components/` | Componentes React da interface | Desenvolvimento frontend |
| `/supabase/functions/server/` | Backend (Edge Functions) | Desenvolvimento backend |
| `/types/` | TypeScript types | Desenvolvimento |
| `/utils/` | Services e utilit√°rios | Desenvolvimento |

---

## üéØ Fluxos de Uso

### üìò Sou novo no projeto

```
1. README.md (vis√£o geral)
   ‚Üì
2. database_fix.sql (executar no Supabase)
   ‚Üì
3. QUICK_TEST.md (validar funcionamento)
   ‚Üì
4. FEATURES.md (conhecer funcionalidades)
```

### üîß Preciso configurar o sistema

```
1. DATABASE_CONNECTIVITY.md (se√ß√£o "Configura√ß√£o")
   ‚Üì
2. database_fix.sql (executar)
   ‚Üì
3. DEPLOYMENT_CHECKLIST.md (seguir checklist)
   ‚Üì
4. QUICK_TEST.md (validar)
```

### üêõ Estou com problemas

```
1. README.md (se√ß√£o "Troubleshooting")
   ‚Üì
2. QUICK_TEST.md (identificar onde falha)
   ‚Üì
3. DATABASE_CONNECTIVITY.md (se√ß√£o "Debugging e Logs")
   ‚Üì
4. FLUXO_COMPLETO.md (entender fluxo espec√≠fico)
```

### üèóÔ∏è Quero entender a arquitetura

```
1. FLUXO_COMPLETO.md (diagramas visuais)
   ‚Üì
2. DATABASE_CONNECTIVITY.md (detalhes t√©cnicos)
   ‚Üì
3. database_fix.sql (estrutura do banco)
```

### üöÄ Vou fazer deploy

```
1. DEPLOYMENT_CHECKLIST.md (checklist completo)
   ‚Üì
2. database_fix.sql (executar se ainda n√£o foi)
   ‚Üì
3. QUICK_TEST.md (testes finais)
   ‚Üì
4. RESUMO_CONECTIVIDADE.md (confirmar status)
```

---

## üìä Estrutura de Arquivos

```
üìÅ /
‚îú‚îÄ‚îÄ üìÑ README.md                    # In√≠cio aqui
‚îú‚îÄ‚îÄ üìÑ INDEX.md                     # Este arquivo
‚îÇ
‚îú‚îÄ‚îÄ üìÅ Documenta√ß√£o Essencial
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ DATABASE_CONNECTIVITY.md # Guia t√©cnico completo
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ database_fix.sql         # Script SQL (OBRIGAT√ìRIO)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ DEPLOYMENT_CHECKLIST.md  # Checklist de deploy
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ RESUMO_CONECTIVIDADE.md  # Resumo executivo
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ FLUXO_COMPLETO.md        # Diagramas de fluxo
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ QUICK_TEST.md            # Testes de conectividade
‚îÇ
‚îú‚îÄ‚îÄ üìÅ Documenta√ß√£o de Uso
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ FEATURES.md              # Lista de funcionalidades
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ MOBILE_UX.md             # Guia mobile
‚îÇ
‚îú‚îÄ‚îÄ üìÅ C√≥digo
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ components/              # React components
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ supabase/                # Backend
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ types/                   # TypeScript types
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ utils/                   # Services
‚îÇ
‚îî‚îÄ‚îÄ üìÅ Configura√ß√£o
    ‚îú‚îÄ‚îÄ üìÑ App.tsx                  # Aplica√ß√£o principal
    ‚îî‚îÄ‚îÄ üìÅ styles/                  # CSS global
```

---

## ‚ö° Comandos R√°pidos

### Executar Script SQL
```sql
-- 1. Abra: https://supabase.com ‚Üí Seu Projeto ‚Üí SQL Editor
-- 2. Cole TODO o conte√∫do de: database_fix.sql
-- 3. Execute (Run)
-- 4. Aguarde ~2 minutos
```

### Testar API (Terminal)
```bash
# Listar institui√ß√µes
curl https://{projectId}.supabase.co/functions/v1/make-server-a1f709fc/institutions \
  -H "Authorization: Bearer {publicAnonKey}"
```

### Testar API (Console do Navegador)
```javascript
// F12 ‚Üí Console
fetch('https://{projectId}.supabase.co/functions/v1/make-server-a1f709fc/institutions', {
  headers: { Authorization: 'Bearer {publicAnonKey}' }
})
.then(r => r.json())
.then(data => console.log(data));
```

### Verificar Dados (SQL Editor)
```sql
SELECT 
    (SELECT COUNT(*) FROM institutions) AS instituicoes,
    (SELECT COUNT(*) FROM tags) AS tags,
    (SELECT COUNT(*) FROM campaigns) AS campanhas,
    (SELECT COUNT(*) FROM users WHERE id = '00000000-0000-0000-0000-000000000000') AS usuario_sistema;
```

---

## üéØ Checklist Completo

### Antes de Usar
- [ ] Li o README.md
- [ ] Executei database_fix.sql no Supabase
- [ ] Verifiquei: 8 institui√ß√µes inseridas
- [ ] Verifiquei: Usu√°rio sistema criado
- [ ] Testei: API retorna institui√ß√µes

### Deploy
- [ ] Executei todos os testes de QUICK_TEST.md
- [ ] Verifiquei: Interface carrega sem erros
- [ ] Testei: Criar campanha funciona
- [ ] Testei: Upload de arquivo funciona
- [ ] Testei: Coment√°rios funcionam
- [ ] Verifiquei: Logs do servidor sem erros

### Valida√ß√£o Final
- [ ] Criei uma campanha via interface
- [ ] Adicionei um coment√°rio
- [ ] Fiz upload de um arquivo
- [ ] Visualizei hist√≥rico de edi√ß√µes
- [ ] Testei em mobile (DevTools)

---

## üö® Aten√ß√£o

### ‚ö†Ô∏è OBRIGAT√ìRIO Antes de Usar

**Voc√™ DEVE executar o script `database_fix.sql` antes de usar o sistema!**

Este script:
- ‚úÖ Remove triggers com erros
- ‚úÖ Adiciona campos necess√°rios
- ‚úÖ Insere 8 institui√ß√µes
- ‚úÖ Insere 18+ tags
- ‚úÖ Cria usu√°rio sistema
- ‚úÖ Corrige estrutura do banco

**Sem este script, o sistema N√ÉO funcionar√°!**

### ‚öôÔ∏è Sistema Sem Autentica√ß√£o

Este sistema foi projetado para ser **completamente aberto**:
- ‚úÖ N√£o requer login
- ‚úÖ Todos t√™m acesso total
- ‚úÖ Perfeito para prototipagem interna

---

## üìû Suporte

### Onde Encontrar Ajuda

1. **Problema com conectividade**:
   - Leia: [DATABASE_CONNECTIVITY.md](./DATABASE_CONNECTIVITY.md)
   - Execute: [QUICK_TEST.md](./QUICK_TEST.md)

2. **Erro ao criar campanha**:
   - Verifique: Institui√ß√µes existem no banco?
   - Veja: README.md ‚Üí Troubleshooting

3. **Upload n√£o funciona**:
   - Aguarde: 1 minuto (bucket √© criado automaticamente)
   - Verifique: Tamanho do arquivo <= 100MB

4. **Interface n√£o carrega**:
   - Abra: F12 ‚Üí Console ‚Üí Veja erros
   - Verifique: `/utils/supabase/info.tsx` tem IDs corretos?

### Logs Importantes

**Frontend (Navegador):**
- F12 ‚Üí Console ‚Üí Erros JavaScript
- F12 ‚Üí Network ‚Üí Requisi√ß√µes HTTP

**Backend (Supabase):**
- Supabase ‚Üí Edge Functions ‚Üí make-server-a1f709fc ‚Üí Logs

**Banco de Dados (Supabase):**
- Supabase ‚Üí Database ‚Üí Logs
- Supabase ‚Üí SQL Editor ‚Üí Executar queries

---

## üéì Gloss√°rio

### Termos T√©cnicos

- **Edge Function**: Servidor backend rodando no Supabase (Deno)
- **Bucket**: Armazenamento de arquivos no Supabase Storage
- **Signed URL**: URL tempor√°ria para acessar arquivo privado
- **Trigger**: Fun√ß√£o SQL executada automaticamente em eventos
- **Slug**: Identificador √∫nico na URL (ex: `campanha-teste-2025`)
- **publicAnonKey**: Chave p√∫blica do Supabase (segura para usar no frontend)
- **Service Role Key**: Chave privada do Supabase (apenas no backend)

### Siglas

- **CRUD**: Create, Read, Update, Delete
- **UUID**: Universally Unique Identifier
- **API**: Application Programming Interface
- **SQL**: Structured Query Language
- **JWT**: JSON Web Token (n√£o usado neste sistema)
- **RLS**: Row Level Security (n√£o usado neste sistema)

---

## üìà M√©tricas de Sucesso

### Ap√≥s Setup Completo

```sql
-- Execute no SQL Editor para ver status
SELECT 
    'Institui√ß√µes' AS item,
    COUNT(*) AS quantidade,
    'Esperado: 8' AS esperado
FROM institutions

UNION ALL

SELECT 
    'Tags' AS item,
    COUNT(*) AS quantidade,
    'Esperado: 18+' AS esperado
FROM tags

UNION ALL

SELECT 
    'Usu√°rio Sistema' AS item,
    COUNT(*) AS quantidade,
    'Esperado: 1' AS esperado
FROM users WHERE id = '00000000-0000-0000-0000-000000000000';
```

**Resultado Esperado:**
- Institui√ß√µes: 8 ‚úÖ
- Tags: 18+ ‚úÖ
- Usu√°rio Sistema: 1 ‚úÖ

---

## üéâ Conclus√£o

Siga este fluxo:

1. Leia o **README.md**
2. Execute o **database_fix.sql**
3. Teste com **QUICK_TEST.md**
4. Use o sistema!

**Tempo total**: ~15-20 minutos

---

**√öltima atualiza√ß√£o**: 20 de Outubro de 2025  
**Vers√£o**: 1.0.0 (Sistema sem autentica√ß√£o)  
**Status**: ‚úÖ Documenta√ß√£o completa
